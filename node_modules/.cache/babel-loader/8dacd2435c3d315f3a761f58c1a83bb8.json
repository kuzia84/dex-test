{"ast":null,"code":"import{useEffect}from\"react\";import{useAppDispatch,useAppSelector}from\"../../store/hooks\";import{fetchTeamsAsync,reset,selectTeamsData,selectTeamsIsLoading}from\"../../store/getTeamsSlice\";import s from\"./style.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PlayerCard=function PlayerCard(_ref){var _teams$filter$;var name=_ref.name,number=_ref.number,team=_ref.team,avatarUrl=_ref.avatarUrl,onClick=_ref.onClick,id=_ref.id;var dispatch=useAppDispatch();var request=\"http://dev.trainee.dex-it.ru/api/Team/GetTeams\";useEffect(function(){dispatch(reset());dispatch(fetchTeamsAsync(request));},[dispatch,request]);var teamsRedux=useAppSelector(selectTeamsData);var teamsIsLoading=useAppSelector(selectTeamsIsLoading);var teams=teamsRedux.data;var handlePlayerClick=function handlePlayerClick(){onClick&&onClick(id);};return/*#__PURE__*/_jsx(\"div\",{className:s.player,children:/*#__PURE__*/_jsxs(\"div\",{className:s.player__wrapper,onClick:handlePlayerClick,children:[/*#__PURE__*/_jsx(\"div\",{className:s.player__logo,children:/*#__PURE__*/_jsx(\"img\",{src:avatarUrl,alt:name})}),/*#__PURE__*/_jsxs(\"div\",{className:s.player__info,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.player__name,children:[name,\" \",/*#__PURE__*/_jsxs(\"span\",{className:s.player__number,children:[\"#\",number]})]}),/*#__PURE__*/_jsx(\"div\",{className:s.player__team,children:teamsIsLoading===true?\"Loading...\":(_teams$filter$=teams.filter(function(item){return item.id===team;})[0])===null||_teams$filter$===void 0?void 0:_teams$filter$.name})]})]})});};","map":{"version":3,"sources":["D:/study/dex-test/src/Components/PlayerCard/playerCard.tsx"],"names":["useEffect","useAppDispatch","useAppSelector","fetchTeamsAsync","reset","selectTeamsData","selectTeamsIsLoading","s","PlayerCard","name","number","team","avatarUrl","onClick","id","dispatch","request","teamsRedux","teamsIsLoading","teams","data","handlePlayerClick","player","player__wrapper","player__logo","player__info","player__name","player__number","player__team","filter","item"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,mBAA/C,CACA,OACEC,eADF,CAEEC,KAFF,CAGEC,eAHF,CAIEC,oBAJF,KAKO,2BALP,CAOA,MAAOC,CAAAA,CAAP,KAAc,oBAAd,C,wFAEA,MAAO,IAAMC,CAAAA,UAA+B,CAAG,QAAlCA,CAAAA,UAAkC,MAOzC,uBANJC,CAAAA,IAMI,MANJA,IAMI,CALJC,MAKI,MALJA,MAKI,CAJJC,IAII,MAJJA,IAII,CAHJC,SAGI,MAHJA,SAGI,CAFJC,OAEI,MAFJA,OAEI,CADJC,EACI,MADJA,EACI,CACJ,GAAMC,CAAAA,QAAQ,CAAGd,cAAc,EAA/B,CACA,GAAMe,CAAAA,OAAO,CAAG,gDAAhB,CACAhB,SAAS,CAAC,UAAM,CACde,QAAQ,CAACX,KAAK,EAAN,CAAR,CACAW,QAAQ,CAACZ,eAAe,CAACa,OAAD,CAAhB,CAAR,CACD,CAHQ,CAGN,CAACD,QAAD,CAAWC,OAAX,CAHM,CAAT,CAIA,GAAMC,CAAAA,UAAU,CAAGf,cAAc,CAACG,eAAD,CAAjC,CACA,GAAMa,CAAAA,cAAc,CAAGhB,cAAc,CAACI,oBAAD,CAArC,CACA,GAAMa,CAAAA,KAAK,CAAGF,UAAU,CAACG,IAAzB,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BR,OAAO,EAAIA,OAAO,CAACC,EAAD,CAAlB,CACD,CAFD,CAIA,mBACE,YAAK,SAAS,CAAEP,CAAC,CAACe,MAAlB,uBACE,aAAK,SAAS,CAAEf,CAAC,CAACgB,eAAlB,CAAmC,OAAO,CAAEF,iBAA5C,wBACE,YAAK,SAAS,CAAEd,CAAC,CAACiB,YAAlB,uBACE,YAAK,GAAG,CAAEZ,SAAV,CAAqB,GAAG,CAAEH,IAA1B,EADF,EADF,cAIE,aAAK,SAAS,CAAEF,CAAC,CAACkB,YAAlB,wBACE,aAAK,SAAS,CAAElB,CAAC,CAACmB,YAAlB,WACGjB,IADH,kBACS,cAAM,SAAS,CAAEF,CAAC,CAACoB,cAAnB,eAAqCjB,MAArC,GADT,GADF,cAIE,YAAK,SAAS,CAAEH,CAAC,CAACqB,YAAlB,UACGV,cAAc,GAAK,IAAnB,CACG,YADH,iBAEGC,KAAK,CAACU,MAAN,CAAa,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAAChB,EAAL,GAAYH,IAAtB,EAAb,EAAyC,CAAzC,CAFH,yCAEG,eAA6CF,IAHnD,EAJF,GAJF,GADF,EADF,CAmBD,CAzCM","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store/hooks\";\r\nimport {\r\n  fetchTeamsAsync,\r\n  reset,\r\n  selectTeamsData,\r\n  selectTeamsIsLoading,\r\n} from \"../../store/getTeamsSlice\";\r\nimport { PlayerDto } from \"../../Interfaces/interfaces\";\r\nimport s from \"./style.module.css\";\r\n\r\nexport const PlayerCard: React.FC<PlayerDto> = ({\r\n  name,\r\n  number,\r\n  team,\r\n  avatarUrl,\r\n  onClick,\r\n  id,\r\n}) => {\r\n  const dispatch = useAppDispatch();\r\n  const request = \"http://dev.trainee.dex-it.ru/api/Team/GetTeams\";\r\n  useEffect(() => {\r\n    dispatch(reset());\r\n    dispatch(fetchTeamsAsync(request));\r\n  }, [dispatch, request]);\r\n  const teamsRedux = useAppSelector(selectTeamsData);\r\n  const teamsIsLoading = useAppSelector(selectTeamsIsLoading);\r\n  const teams = teamsRedux.data;\r\n\r\n  const handlePlayerClick = () => {\r\n    onClick && onClick(id);\r\n  };\r\n\r\n  return (\r\n    <div className={s.player}>\r\n      <div className={s.player__wrapper} onClick={handlePlayerClick}>\r\n        <div className={s.player__logo}>\r\n          <img src={avatarUrl} alt={name} />\r\n        </div>\r\n        <div className={s.player__info}>\r\n          <div className={s.player__name}>\r\n            {name} <span className={s.player__number}>#{number}</span>\r\n          </div>\r\n          <div className={s.player__team}>\r\n            {teamsIsLoading === true\r\n              ? \"Loading...\"\r\n              : teams.filter((item) => item.id === team)[0]?.name}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}