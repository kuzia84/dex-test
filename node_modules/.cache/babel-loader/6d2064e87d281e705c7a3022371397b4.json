{"ast":null,"code":"import{useForm}from\"react-hook-form\";import{Link,useHistory}from\"react-router-dom\";import{useAppDispatch,useAppSelector}from\"../../store/hooks\";import{selectSignUpError}from\"../../store/signUpSlice\";import{fetchSignUp}from\"../../store/signUpSlice\";import{Checkbox}from\"../Checkbox/checkbox\";import{InputGroup}from\"../InputGroup/iInputGroup\";import s from\"./style.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SignUpForm=function SignUpForm(){var dispatch=useAppDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var signUpError=useAppSelector(selectSignUpError);var history=useHistory();var onSubmit=function onSubmit(data){if(data.password===data.checkPassword){var signUpRequest={userName:data.userName,login:data.login,password:data.password};dispatch(fetchSignUp(signUpRequest));if(!signUpError){history.push(\"/teams\");}else{console.log(\"signUpError: \",signUpError);}}else{alert(\"Пароли не совпадают\");}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h1\",{className:s.formTitle,children:\"Sign Up\"}),/*#__PURE__*/_jsx(InputGroup,{label:\"Name\",inputName:\"userName\",errorText:\"Enter name\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(InputGroup,{label:\"Login\",inputName:\"login\",errorText:\"Enter login\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(InputGroup,{type:\"password\",label:\"Password\",inputName:\"password\",errorText:\"Enter password\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(InputGroup,{type:\"password\",label:\"Enter your password again\",inputName:\"checkPassword\",errorText:\"Enter password\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(Checkbox,{inputName:\"agreement\",label:\"I accept the agreement\",errorText:\"Accept the agriment\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.signUpLnk,children:[\"Already a member? \",/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:\"Sign in\"})]})]});};","map":{"version":3,"sources":["D:/study/dex-test/src/Components/SignUpForm/signUpForm.tsx"],"names":["useForm","Link","useHistory","useAppDispatch","useAppSelector","selectSignUpError","fetchSignUp","Checkbox","InputGroup","s","SignUpForm","dispatch","register","handleSubmit","errors","signUpError","history","onSubmit","data","password","checkPassword","signUpRequest","userName","login","push","console","log","alert","formTitle","signUpLnk"],"mappings":"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","sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  ISignUpInputs,\r\n  ISignUpRequest,\r\n  ISignUpData,\r\n} from \"../../Interfaces/interfaces\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store/hooks\";\r\nimport { selectSignUpError } from \"../../store/signUpSlice\";\r\nimport { fetchSignUp } from \"../../store/signUpSlice\";\r\nimport { Checkbox } from \"../Checkbox/checkbox\";\r\nimport { InputGroup } from \"../InputGroup/iInputGroup\";\r\nimport s from \"./style.module.css\";\r\n\r\nexport const SignUpForm: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { register, handleSubmit, errors } = useForm<ISignUpInputs>();\r\n  const signUpError = useAppSelector(selectSignUpError);\r\n  const history = useHistory();\r\n\r\n  const onSubmit = (data: ISignUpData) => {\r\n    if (data.password === data.checkPassword) {\r\n      const signUpRequest: ISignUpRequest = {\r\n        userName: data.userName,\r\n        login: data.login,\r\n        password: data.password,\r\n      };\r\n\r\n      dispatch(fetchSignUp(signUpRequest));\r\n      if (!signUpError) {\r\n        history.push(\"/teams\");\r\n      } else {\r\n        console.log(\"signUpError: \", signUpError);\r\n      }\r\n    } else {\r\n      alert(\"Пароли не совпадают\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <h1 className={s.formTitle}>Sign Up</h1>\r\n      <InputGroup\r\n        label=\"Name\"\r\n        inputName=\"userName\"\r\n        errorText=\"Enter name\"\r\n        register={register}\r\n        required\r\n        errors={errors}\r\n      />\r\n      <InputGroup\r\n        label=\"Login\"\r\n        inputName=\"login\"\r\n        errorText=\"Enter login\"\r\n        register={register}\r\n        required\r\n        errors={errors}\r\n      />\r\n      <InputGroup\r\n        type=\"password\"\r\n        label=\"Password\"\r\n        inputName=\"password\"\r\n        errorText=\"Enter password\"\r\n        register={register}\r\n        required\r\n        errors={errors}\r\n      />\r\n      <InputGroup\r\n        type=\"password\"\r\n        label=\"Enter your password again\"\r\n        inputName=\"checkPassword\"\r\n        errorText=\"Enter password\"\r\n        register={register}\r\n        required\r\n        errors={errors}\r\n      />\r\n      <Checkbox\r\n        inputName=\"agreement\"\r\n        label=\"I accept the agreement\"\r\n        errorText=\"Accept the agriment\"\r\n        register={register}\r\n        required\r\n        errors={errors}\r\n      />\r\n      <button className=\"btn\">Sign Up</button>\r\n      <div className={s.signUpLnk}>\r\n        Already a member? <Link to=\"/sign-in\">Sign in</Link>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}