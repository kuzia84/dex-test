{"ast":null,"code":"import{ReactComponent as Pen}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../img/create.svg\";import{ReactComponent as Delete}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../img/delete.svg\";import{fetchDeleteItemById}from\"../../store/deleteItemById\";import{silectSideMenuId}from\"../../store/sideMenuSlice\";import{useAppDispatch,useAppSelector}from\"../../store/hooks\";import s from\"./style.module.css\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ControlButtons=function ControlButtons(props){var dispatch=useAppDispatch();var history=useHistory();var currentPageId=useAppSelector(silectSideMenuId);var deleteRequest=\"\";if(currentPageId===2){deleteRequest=\"http://dev.trainee.dex-it.ru/api/Player/Delete?id=\".concat(props.itemId);}else if(currentPageId===1){deleteRequest=\"http://dev.trainee.dex-it.ru/api/Team/Delete?id=\".concat(props.itemId);}var handleDeleteButton=function handleDeleteButton(){if(window.confirm(\"Confirm Delete\")){dispatch(fetchDeleteItemById(deleteRequest));if(currentPageId===2){history.push(\"/players\");}else if(currentPageId===1){history.push(\"/teams\");}}else alert(\"Canceled\");};var handleUpdateButton=function handleUpdateButton(){if(currentPageId===2){history.push(\"/new-player\");}else if(currentPageId===1){history.push(\"/new-team\");}};return/*#__PURE__*/_jsxs(\"div\",{className:s.buttons,children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Pen,{onClick:handleUpdateButton})}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Delete,{onClick:handleDeleteButton})})]});};","map":{"version":3,"sources":["D:/study/dex-test/src/Components/ControlButtons/controlButtons.tsx"],"names":["fetchDeleteItemById","silectSideMenuId","useAppDispatch","useAppSelector","s","useHistory","ControlButtons","props","dispatch","history","currentPageId","deleteRequest","itemId","handleDeleteButton","window","confirm","push","alert","handleUpdateButton","buttons"],"mappings":"2LAEA,OAASA,mBAAT,KAAoC,4BAApC,CACA,OAASC,gBAAT,KAAiC,2BAAjC,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,mBAA/C,CACA,MAAOC,CAAAA,CAAP,KAAc,oBAAd,CACA,OAASC,UAAT,KAA2B,cAA3B,C,wFAMA,MAAO,IAAMC,CAAAA,cAAgC,CAAG,QAAnCA,CAAAA,cAAmC,CAACC,KAAD,CAAW,CACzD,GAAMC,CAAAA,QAAQ,CAAGN,cAAc,EAA/B,CACA,GAAMO,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,CAAAA,aAAa,CAAGP,cAAc,CAACF,gBAAD,CAApC,CACA,GAAIU,CAAAA,aAAa,CAAG,EAApB,CACA,GAAID,aAAa,GAAK,CAAtB,CAAyB,CACvBC,aAAa,6DAAwDJ,KAAK,CAACK,MAA9D,CAAb,CACD,CAFD,IAEO,IAAIF,aAAa,GAAK,CAAtB,CAAyB,CAC9BC,aAAa,2DAAsDJ,KAAK,CAACK,MAA5D,CAAb,CACD,CAED,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B,GAAIC,MAAM,CAACC,OAAP,CAAe,gBAAf,CAAJ,CAAsC,CACpCP,QAAQ,CAACR,mBAAmB,CAACW,aAAD,CAApB,CAAR,CACA,GAAID,aAAa,GAAK,CAAtB,CAAyB,CACvBD,OAAO,CAACO,IAAR,CAAa,UAAb,EACD,CAFD,IAEO,IAAIN,aAAa,GAAK,CAAtB,CAAyB,CAC9BD,OAAO,CAACO,IAAR,CAAa,QAAb,EACD,CACF,CAPD,IAOOC,CAAAA,KAAK,CAAC,UAAD,CAAL,CACR,CATD,CAWA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B,GAAIR,aAAa,GAAK,CAAtB,CAAyB,CACvBD,OAAO,CAACO,IAAR,CAAa,aAAb,EACD,CAFD,IAEO,IAAIN,aAAa,GAAK,CAAtB,CAAyB,CAC9BD,OAAO,CAACO,IAAR,CAAa,WAAb,EACD,CACF,CAND,CAQA,mBACE,aAAK,SAAS,CAAEZ,CAAC,CAACe,OAAlB,wBACE,qCACE,KAAC,GAAD,EAAK,OAAO,CAAED,kBAAd,EADF,EADF,cAIE,qCACE,KAAC,MAAD,EAAQ,OAAO,CAAEL,kBAAjB,EADF,EAJF,GADF,CAUD,CAxCM","sourcesContent":["import { ReactComponent as Pen } from \"../../img/create.svg\";\r\nimport { ReactComponent as Delete } from \"../../img/delete.svg\";\r\nimport { fetchDeleteItemById } from \"../../store/deleteItemById\";\r\nimport { silectSideMenuId } from \"../../store/sideMenuSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store/hooks\";\r\nimport s from \"./style.module.css\";\r\nimport { useHistory } from \"react-router\";\r\n\r\ninterface IProps {\r\n  itemId: number;\r\n}\r\n\r\nexport const ControlButtons: React.FC<IProps> = (props) => {\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n  const currentPageId = useAppSelector(silectSideMenuId);\r\n  let deleteRequest = \"\";\r\n  if (currentPageId === 2) {\r\n    deleteRequest = `http://dev.trainee.dex-it.ru/api/Player/Delete?id=${props.itemId}`;\r\n  } else if (currentPageId === 1) {\r\n    deleteRequest = `http://dev.trainee.dex-it.ru/api/Team/Delete?id=${props.itemId}`;\r\n  }\r\n\r\n  const handleDeleteButton = () => {\r\n    if (window.confirm(\"Confirm Delete\")) {\r\n      dispatch(fetchDeleteItemById(deleteRequest));\r\n      if (currentPageId === 2) {\r\n        history.push(\"/players\");\r\n      } else if (currentPageId === 1) {\r\n        history.push(\"/teams\");\r\n      }\r\n    } else alert(\"Canceled\");\r\n  };\r\n\r\n  const handleUpdateButton = () => {\r\n    if (currentPageId === 2) {\r\n      history.push(\"/new-player\");\r\n    } else if (currentPageId === 1) {\r\n      history.push(\"/new-team\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.buttons}>\r\n      <button>\r\n        <Pen onClick={handleUpdateButton} />\r\n      </button>\r\n      <button>\r\n        <Delete onClick={handleDeleteButton} />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}