{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { signInRequest } from \"../../api/requests/autorization\";\nexport const fetchSignIn = createAsyncThunk(\"app/signIn\", async data => {\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  };\n  const response = await fetch(signInRequest, requestOptions);\n  const result = await response.json();\n\n  if (result.token) {\n    localStorage.setItem(\"token\", result.token);\n    localStorage.setItem(\"userName\", result.name);\n  }\n\n  return result;\n});","map":{"version":3,"sources":["D:/study/dex-test/src/modules/autorization/authThunk.ts"],"names":["createAsyncThunk","signInRequest","fetchSignIn","data","requestOptions","method","headers","body","JSON","stringify","response","fetch","result","json","token","localStorage","setItem","name"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AAEA,SAASC,aAAT,QAA8B,iCAA9B;AAEA,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CACzC,YADyC,EAEzC,MAAOG,IAAP,IAAgB;AACd,QAAMC,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFY;AAKrBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AALe,GAAvB;AAOA,QAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACV,aAAD,EAAgBG,cAAhB,CAA5B;AACA,QAAMQ,MAAM,GAAI,MAAMF,QAAQ,CAACG,IAAT,EAAtB;;AACA,MAAID,MAAM,CAACE,KAAX,EAAkB;AAChBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,MAAM,CAACE,KAArC;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,MAAM,CAACK,IAAxC;AACD;;AACD,SAAOL,MAAP;AACD,CAjBwC,CAApC","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { ILoginRequest, ILoginResult } from \"../../api/dto/autorization.g\";\r\nimport { signInRequest } from \"../../api/requests/autorization\";\r\n\r\nexport const fetchSignIn = createAsyncThunk<any, ILoginRequest>(\r\n  \"app/signIn\",\r\n  async (data) => {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n    const response = await fetch(signInRequest, requestOptions);\r\n    const result = (await response.json()) as ILoginResult;\r\n    if (result.token) {\r\n      localStorage.setItem(\"token\", result.token);\r\n      localStorage.setItem(\"userName\", result.name);\r\n    }\r\n    return result;\r\n  }\r\n);\r\n"]},"metadata":{},"sourceType":"module"}