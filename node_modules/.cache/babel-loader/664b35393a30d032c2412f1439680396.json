{"ast":null,"code":"import{useEffect}from\"react\";import{useForm}from\"react-hook-form\";import{fetchAddTeam}from\"../../store/addTeamSlice\";import{SelectSingleTeamData}from\"../../store/getTeamSlice\";import{useAppDispatch,useAppSelector}from\"../../store/hooks\";import{newSelectedId}from\"../../store/selectedIdSlice\";import{fetchUpdateTeamById}from\"../../store/updateTeamById\";import{InputGroup}from\"../InputGroup/iInputGroup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddTeam=function AddTeam(){var dispatch=useAppDispatch();var selectedId=useAppSelector(newSelectedId);var singleTeam=useAppSelector(SelectSingleTeamData);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,reset=_useForm.reset,setValue=_useForm.setValue;var setTeamDataValues=function setTeamDataValues(){setValue(\"teamName\",singleTeam.name);setValue(\"teamDivision\",singleTeam.division);setValue(\"teamConference\",singleTeam.conference);setValue(\"teamFoundation\",singleTeam.foundationYear);};useEffect(function(){if(selectedId!==0){setTeamDataValues();}},[selectedId]);var onSubmit=function onSubmit(data){if(selectedId!==0){var updateTeamData={name:data.teamName,foundationYear:data.teamFoundation,division:data.teamDivision,conference:data.teamConference,imageUrl:data.teamPhoto[0].name,id:selectedId};dispatch(fetchUpdateTeamById(updateTeamData));}else{var addTeamData={name:data.teamName,foundationYear:data.teamFoundation,division:data.teamDivision,conference:data.teamConference,imageUrl:data.teamPhoto[0].name};dispatch(fetchAddTeam(addTeamData));}reset();};return/*#__PURE__*/_jsxs(\"form\",{className:\"form-add\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-image\",children:/*#__PURE__*/_jsx(InputGroup,{type:\"file\",inputName:\"teamPhoto\",errorText:\"Select team's image\",register:register,required:true,errors:errors})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-info\",children:[/*#__PURE__*/_jsx(InputGroup,{label:\"Name\",inputName:\"teamName\",errorText:\"Enter team name\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(InputGroup,{label:\"Division\",inputName:\"teamDivision\",errorText:\"Enter team division\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(InputGroup,{label:\"Conference\",inputName:\"teamConference\",errorText:\"Enter team conference\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsx(InputGroup,{label:\"Year of foundation\",inputName:\"teamFoundation\",errorText:\"Enter year of foundation\",register:register,required:true,errors:errors}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row buttons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsx(\"input\",{type:\"reset\",value:\"Cancel\",className:\"btn-text\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Save\",className:\"btn\"})})]})]})})]});};","map":{"version":3,"sources":["D:/study/dex-test/src/Components/AddNewTeam/addNewTeam.tsx"],"names":["useEffect","useForm","fetchAddTeam","SelectSingleTeamData","useAppDispatch","useAppSelector","newSelectedId","fetchUpdateTeamById","InputGroup","AddTeam","dispatch","selectedId","singleTeam","register","handleSubmit","errors","reset","setValue","setTeamDataValues","name","division","conference","foundationYear","onSubmit","data","updateTeamData","teamName","teamFoundation","teamDivision","teamConference","imageUrl","teamPhoto","id","addTeamData"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  ITeamAddData,\r\n  ITeamAddInputs,\r\n  NewTeamDto,\r\n} from \"../../Interfaces/interfaces\";\r\nimport { fetchAddTeam } from \"../../store/addTeamSlice\";\r\nimport { SelectSingleTeamData } from \"../../store/getTeamSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store/hooks\";\r\nimport { newSelectedId } from \"../../store/selectedIdSlice\";\r\nimport { fetchUpdateTeamById } from \"../../store/updateTeamById\";\r\nimport { InputGroup } from \"../InputGroup/iInputGroup\";\r\n\r\nexport const AddTeam: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const selectedId = useAppSelector(newSelectedId);\r\n  const singleTeam = useAppSelector(SelectSingleTeamData);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    reset,\r\n    setValue,\r\n  } = useForm<ITeamAddInputs>();\r\n  const setTeamDataValues = () => {\r\n    setValue(\"teamName\", singleTeam.name);\r\n    setValue(\"teamDivision\", singleTeam.division);\r\n    setValue(\"teamConference\", singleTeam.conference);\r\n    setValue(\"teamFoundation\", singleTeam.foundationYear);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedId !== 0) {\r\n      setTeamDataValues();\r\n    }\r\n  }, [selectedId]);\r\n\r\n  const onSubmit = (data: ITeamAddData) => {\r\n    if (selectedId !== 0) {\r\n      const updateTeamData: NewTeamDto = {\r\n        name: data.teamName,\r\n        foundationYear: data.teamFoundation,\r\n        division: data.teamDivision,\r\n        conference: data.teamConference,\r\n        imageUrl: data.teamPhoto[0].name,\r\n        id: selectedId,\r\n      };\r\n      dispatch(fetchUpdateTeamById(updateTeamData));\r\n    } else {\r\n      const addTeamData: NewTeamDto = {\r\n        name: data.teamName,\r\n        foundationYear: data.teamFoundation,\r\n        division: data.teamDivision,\r\n        conference: data.teamConference,\r\n        imageUrl: data.teamPhoto[0].name,\r\n      };\r\n      dispatch(fetchAddTeam(addTeamData));\r\n    }\r\n\r\n    reset();\r\n  };\r\n  return (\r\n    <form className=\"form-add\" onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"form-col\">\r\n        <div className=\"form-image\">\r\n          <InputGroup\r\n            type=\"file\"\r\n            inputName=\"teamPhoto\"\r\n            errorText=\"Select team's image\"\r\n            register={register}\r\n            required\r\n            errors={errors}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-col\">\r\n        <div className=\"form-info\">\r\n          <InputGroup\r\n            label=\"Name\"\r\n            inputName=\"teamName\"\r\n            errorText=\"Enter team name\"\r\n            register={register}\r\n            required\r\n            errors={errors}\r\n          />\r\n          <InputGroup\r\n            label=\"Division\"\r\n            inputName=\"teamDivision\"\r\n            errorText=\"Enter team division\"\r\n            register={register}\r\n            required\r\n            errors={errors}\r\n          />\r\n          <InputGroup\r\n            label=\"Conference\"\r\n            inputName=\"teamConference\"\r\n            errorText=\"Enter team conference\"\r\n            register={register}\r\n            required\r\n            errors={errors}\r\n          />\r\n          <InputGroup\r\n            label=\"Year of foundation\"\r\n            inputName=\"teamFoundation\"\r\n            errorText=\"Enter year of foundation\"\r\n            register={register}\r\n            required\r\n            errors={errors}\r\n          />\r\n          <div className=\"form-row buttons\">\r\n            <div className=\"form-col\">\r\n              <input type=\"reset\" value=\"Cancel\" className=\"btn-text\" />\r\n            </div>\r\n            <div className=\"form-col\">\r\n              <input type=\"submit\" value=\"Save\" className=\"btn\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}