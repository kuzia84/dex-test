{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { addImageRequest } from \"../../api/requests/images\";\nexport const fetchAddImage = createAsyncThunk(\"image/add\", async file => {\n  const data = new FormData();\n  data.append(\"file\", file);\n  const myHeaders = new Headers({\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n  });\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: data\n  };\n  const response = await fetch(addImageRequest, requestOptions).then(response => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw Error();\n    }\n  });\n});","map":{"version":3,"sources":["D:/study/dex-test/src/modules/image/imageThunk.ts"],"names":["createAsyncThunk","addImageRequest","fetchAddImage","file","data","FormData","append","myHeaders","Headers","Authorization","localStorage","getItem","requestOptions","method","headers","body","response","fetch","then","ok","json","Error"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,SAASC,eAAT,QAAgC,2BAAhC;AAEA,OAAO,MAAMC,aAAa,GAAGF,gBAAgB,CAC3C,WAD2C,EAE3C,MAAOG,IAAP,IAAgB;AACd,QAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,EAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBH,IAApB;AACA,QAAMI,SAAS,GAAG,IAAIC,OAAJ,CAAY;AAC5BC,IAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAD3B,GAAZ,CAAlB;AAGA,QAAMC,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAEP,SAFY;AAGrBQ,IAAAA,IAAI,EAAEX;AAHe,GAAvB;AAKA,QAAMY,QAAQ,GAAG,MAAMC,KAAK,CAAChB,eAAD,EAAkBW,cAAlB,CAAL,CAAuCM,IAAvC,CACpBF,QAAD,IAAc;AACZ,QAAIA,QAAQ,CAACG,EAAb,EAAiB;AACf,aAAOH,QAAQ,CAACI,IAAT,EAAP;AACD,KAFD,MAEO;AACL,YAAMC,KAAK,EAAX;AACD;AACF,GAPoB,CAAvB;AASD,CAtB0C,CAAtC","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { addImageRequest } from \"../../api/requests/images\";\r\n\r\nexport const fetchAddImage = createAsyncThunk<any, any>(\r\n  \"image/add\",\r\n  async (file) => {\r\n    const data = new FormData();\r\n    data.append(\"file\", file);\r\n    const myHeaders = new Headers({\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    });\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: data,\r\n    };\r\n    const response = await fetch(addImageRequest, requestOptions).then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw Error();\r\n        }\r\n      }\r\n    );\r\n  }\r\n);\r\n"]},"metadata":{},"sourceType":"module"}